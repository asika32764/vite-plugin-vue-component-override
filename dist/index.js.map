{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import { getCurrentInstance } from 'vue';\n\nconst registry: Record<string, any> = {};\nconst asyncRegistry: Record<string, Promise<any>> = {};\n\nexport function overrideVueComponent(id: string, component: any) {\n  if (component == null) {\n    return registry[id] ?? undefined;\n  }\n\n  if (component === false) {\n    delete registry[id];\n    return;\n  }\n\n  registry[id] = component;\n}\n\nexport function overrideVueAsyncComponent(id: string, component: any) {\n  if (component == null) {\n    return asyncRegistry[id] ?? undefined;\n  }\n\n  if (component === false) {\n    delete asyncRegistry[id];\n    return;\n  }\n\n  if (typeof component === 'function') {\n    component = component();\n  }\n\n  asyncRegistry[id] = Promise.resolve(component);\n}\n\nexport function resolveVueComponent(name: string, def?: any): any | undefined {\n  const inc = getCurrentInstance();\n\n  if (!inc) {\n    return def;\n  }\n\n  const components = inc.appContext.components;\n\n  const found = components[name] || components[toPascalCase(name)] || components[toKebabCase(name)];\n\n  return found ?? def;\n}\n\nfunction toKebabCase(text: string) {\n  return text\n    .replace(/([a-z])([A-Z])/g, '$1-$2')\n    .replace(/[\\s_]+/g, '-')\n    .toLowerCase();\n}\n\nfunction toPascalCase(text: string) {\n  return text\n    .replace(/(^\\w|-\\w)/g, (t) => t.replace(/-/, '').toUpperCase());\n}\n\nexport function resolveVueAsyncComponent(id: string): Promise<any> | undefined {\n  return asyncRegistry[id];\n}\n\nexport { registry, asyncRegistry };\n\n"],"names":[],"mappings":";AAEA,MAAM,WAAgC,CAAA;AACtC,MAAM,gBAA8C,CAAA;AAE7C,SAAS,qBAAqB,IAAY,WAAgB;AAC/D,MAAI,aAAa,MAAM;AACrB,WAAO,SAAS,EAAE,KAAK;AAAA,EACzB;AAEA,MAAI,cAAc,OAAO;AACvB,WAAO,SAAS,EAAE;AAClB;AAAA,EACF;AAEA,WAAS,EAAE,IAAI;AACjB;AAEO,SAAS,0BAA0B,IAAY,WAAgB;AACpE,MAAI,aAAa,MAAM;AACrB,WAAO,cAAc,EAAE,KAAK;AAAA,EAC9B;AAEA,MAAI,cAAc,OAAO;AACvB,WAAO,cAAc,EAAE;AACvB;AAAA,EACF;AAEA,MAAI,OAAO,cAAc,YAAY;AACnC,gBAAY,UAAA;AAAA,EACd;AAEA,gBAAc,EAAE,IAAI,QAAQ,QAAQ,SAAS;AAC/C;AAEO,SAAS,oBAAoB,MAAc,KAA4B;AAC5E,QAAM,MAAM,mBAAA;AAEZ,MAAI,CAAC,KAAK;AACR,WAAO;AAAA,EACT;AAEA,QAAM,aAAa,IAAI,WAAW;AAElC,QAAM,QAAQ,WAAW,IAAI,KAAK,WAAW,aAAa,IAAI,CAAC,KAAK,WAAW,YAAY,IAAI,CAAC;AAEhG,SAAO,SAAS;AAClB;AAEA,SAAS,YAAY,MAAc;AACjC,SAAO,KACJ,QAAQ,mBAAmB,OAAO,EAClC,QAAQ,WAAW,GAAG,EACtB,YAAA;AACL;AAEA,SAAS,aAAa,MAAc;AAClC,SAAO,KACJ,QAAQ,cAAc,CAAC,MAAM,EAAE,QAAQ,KAAK,EAAE,EAAE,YAAA,CAAa;AAClE;AAEO,SAAS,yBAAyB,IAAsC;AAC7E,SAAO,cAAc,EAAE;AACzB;"}